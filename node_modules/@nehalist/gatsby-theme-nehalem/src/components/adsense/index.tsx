import React, {CSSProperties, FunctionComponent} from "react";
import styled from "styled-components";
import {graphql, useStaticQuery} from "gatsby";
import {SiteMetadata} from "../../utils/models";

interface AdsenseProps {
    textAlign: 'left' | 'center' | 'right' | 'justify';
}

const StyledAdsense = styled.section<Pick<AdsenseProps, 'textAlign'>>`
  margin: auto;
  text-align: ${props => props.textAlign};
  width: 100%;
`;

const AdsenseTitle = styled.p`
  margin: 12px 1 14px;
`;

const Adsense: FunctionComponent<AdsenseProps> = ({textAlign = 'left'}) => {
  const metadata = useStaticQuery<SiteMetadata>(graphql`
    query AdsenseQuery {
      site {
        siteMetadata {
          adsense {
            title
          }
        }
      }
    }
  `);

  const adsense = metadata.site.siteMetadata.adsense;

  return (
    <StyledAdsense textAlign={textAlign}>
      <AdsenseTitle dangerouslySetInnerHTML={{ __html: adsense.title }} />
    </StyledAdsense>
  );
};

export default Adsense;
